# âœ… å‡çº§è„šæœ¬é…ç½®å®Œæˆ

## ğŸ‰ å·²å®Œæˆçš„å·¥ä½œ

### 1. æ•°æ®åº“å¯†ç é…ç½® âœ…
æ‰€æœ‰å‡çº§è„šæœ¬å·²é…ç½®æ­£ç¡®çš„æ•°æ®åº“å¯†ç ï¼š`literacy2024`

### 2. å‡çº§è„šæœ¬æ–‡ä»¶ âœ…

| æ–‡ä»¶å | ç”¨é€” | çŠ¶æ€ |
|--------|------|------|
| `upgrade.sh` | v1.1.0 å‡çº§è„šæœ¬ | âœ… å·²æ›´æ–°å¯†ç  |
| `upgrade_to_v1.2.0.sh` | v1.2.0 å‡çº§è„šæœ¬ | âœ… æ–°å»ºå®Œæˆ |
| `upgrade_v1.1.0.sql` | v1.1.0 SQLè„šæœ¬ | âœ… å·²å­˜åœ¨ |
| `upgrade_v1.2.0.sql` | v1.2.0 SQLè„šæœ¬ | âœ… å·²å­˜åœ¨ |

### 3. æ–‡æ¡£æ–‡ä»¶ âœ…

| æ–‡ä»¶å | è¯´æ˜ | çŠ¶æ€ |
|--------|------|------|
| `å¦‚ä½•å‡çº§.md` | ç”¨æˆ·å‹å¥½çš„å‡çº§æŒ‡å— | âœ… æ–°å»ºå®Œæˆ |
| `å¿«é€Ÿå‡çº§.md` | å¿«é€Ÿå‚è€ƒå‘½ä»¤ | âœ… å·²æ›´æ–° |
| `å‡çº§æŒ‡å—.md` | è¯¦ç»†æŠ€æœ¯æ–‡æ¡£ | âœ… å·²å­˜åœ¨ |
| `v1.2.0_æ›´æ–°è¯´æ˜.md` | ç‰ˆæœ¬æ›´æ–°è¯´æ˜ | âœ… å·²å­˜åœ¨ |
| `å‡çº§æ–‡ä»¶è¯´æ˜.md` | æ–‡ä»¶ç”¨é€”è¯´æ˜ | âœ… å·²å­˜åœ¨ |

---

## ğŸš€ å¦‚ä½•æ‰§è¡Œå‡çº§

### æ–¹å¼ 1ï¼šä¸€é”®å‡çº§ï¼ˆæ¨èï¼‰

```bash
cd /Users/102er/Desktop/WORK/github.com/eleven_study
./upgrade_to_v1.2.0.sh
```

### æ–¹å¼ 2ï¼šæ‰‹åŠ¨å‡çº§

```bash
# 1. å¤‡ä»½æ•°æ®åº“
docker compose exec mysql mysqldump -uroot -pliteracy2024 literacy_db > backup.sql

# 2. æ‰§è¡Œå‡çº§
docker compose exec -T mysql mysql -uroot -pliteracy2024 literacy_db < upgrade_v1.2.0.sql

# 3. é‡å¯æœåŠ¡
docker compose restart backend
```

---

## ğŸ“¦ v1.2.0 æ–°åŠŸèƒ½é¢„è§ˆ

### ğŸ—ºï¸ æ—…è¡Œè¶³è¿¹åœ°å›¾
- ä¸‰ä¸ªå°äººä»£è¡¨ä¸€å®¶ä¸‰å£
- å¯è§†åŒ–å±•ç¤ºæ—…è¡Œå†å²
- æŸ¥çœ‹èŠ±è´¹å’Œæ˜Ÿæ˜Ÿå¥–åŠ±

### ğŸ† æˆ‘çš„å¥–åŠ±ï¼ˆç‹¬ç«‹æ¨¡å—ï¼‰
- å­¦ä¹ æˆå°±å¾½ç« 
- æ˜Ÿæ˜Ÿå…‘æ¢å†å²
- å®æ—¶æ˜Ÿæ˜Ÿç»Ÿè®¡

### ğŸ æ˜Ÿæ˜Ÿå…‘æ¢ç³»ç»Ÿ
- 6 ç§é»˜è®¤å¥–åŠ±å•†å“
- è‡ªå®šä¹‰å•†å“ç®¡ç†
- æ˜Ÿæ˜Ÿæ‰£é™¤è®°å½•

**æ˜Ÿæ˜Ÿå…‘æ¢å•†å“ï¼š**
- ğŸ¢ å»æ¸¸ä¹å›­ï¼ˆ100â­ï¼‰
- ğŸ§¸ ä¹°ç©å…·ï¼ˆ50â­ï¼‰
- ğŸ• åƒå¤§é¤ï¼ˆ80â­ï¼‰
- ğŸ¬ çœ‹ç”µå½±ï¼ˆ60â­ï¼‰
- ğŸ¬ ä¹°é›¶é£Ÿï¼ˆ30â­ï¼‰
- âœˆï¸ å‘¨æœ«æ—…è¡Œï¼ˆ150â­ï¼‰

---

## ğŸ”’ å®‰å…¨ä¿éšœ

### è‡ªåŠ¨å¤‡ä»½æœºåˆ¶
- âœ… æ¯æ¬¡å‡çº§å‰è‡ªåŠ¨å¤‡ä»½
- âœ… å¤‡ä»½æ–‡ä»¶å‘½åå«æ—¶é—´æˆ³
- âœ… å¤‡ä»½å¤§å°å®æ—¶æ˜¾ç¤º
- âœ… å‡ºé”™å¯ä¸€é”®æ¢å¤

### å¢é‡æ›´æ–°è®¾è®¡
- âœ… ç‰ˆæœ¬æ£€æŸ¥æœºåˆ¶
- âœ… é˜²æ­¢é‡å¤æ‰§è¡Œ
- âœ… ä¿ç•™å†å²æ•°æ®
- âœ… é›¶æ•°æ®ä¸¢å¤±

---

## ğŸ“Š å‡çº§æµç¨‹å›¾

```
å¼€å§‹å‡çº§
   â†“
æ£€æŸ¥ç¯å¢ƒï¼ˆDockerè¿è¡ŒçŠ¶æ€ï¼‰
   â†“
å¤‡ä»½æ•°æ®åº“ï¼ˆè‡ªåŠ¨å¤‡ä»½åˆ° backup_*.sqlï¼‰
   â†“
æ‰§è¡ŒSQLè„šæœ¬ï¼ˆå¢é‡æ›´æ–°è¡¨ç»“æ„ï¼‰
   â†“
é‡å¯åç«¯æœåŠ¡ï¼ˆåº”ç”¨æ–°ä»£ç ï¼‰
   â†“
éªŒè¯å‡çº§ç»“æœï¼ˆæ£€æŸ¥æ–°è¡¨å’ŒAPIï¼‰
   â†“
æ˜¾ç¤ºå®Œæˆä¿¡æ¯
   â†“
å‡çº§å®Œæˆ âœ…
```

---

## ğŸ” éªŒè¯å‡çº§æˆåŠŸ

### æ£€æŸ¥æ•°æ®åº“ç‰ˆæœ¬
```bash
docker compose exec mysql mysql -uroot -pliteracy2024 literacy_db -e "SELECT * FROM db_version ORDER BY applied_at;"
```

**é¢„æœŸè¾“å‡ºï¼š**
```
+-----+---------+------------------+---------------------+
| id  | version | description      | applied_at          |
+-----+---------+------------------+---------------------+
| 1   | v1.1.0  | æ—…è¡Œå’Œå¤è¯—ç³»ç»Ÿ   | 2025-11-05 12:00:00 |
| 2   | v1.2.0  | æ˜Ÿæ˜Ÿå…‘æ¢ç³»ç»Ÿ     | 2025-11-06 14:30:00 |
+-----+---------+------------------+---------------------+
```

### æ£€æŸ¥æ–°å¢è¡¨
```bash
docker compose exec mysql mysql -uroot -pliteracy2024 literacy_db -e "SHOW TABLES;"
```

**åº”åŒ…å«ä»¥ä¸‹è¡¨ï¼š**
- âœ… `reward_items` - å¥–åŠ±å•†å“è¡¨
- âœ… `star_redemptions` - å…‘æ¢è®°å½•è¡¨
- âœ… `travel_plans` - æ—…è¡Œè®¡åˆ’è¡¨
- âœ… `travel_footprints` - æ—…è¡Œè¶³è¿¹è¡¨
- âœ… `poems` - å¤è¯—è¡¨
- âœ… `daily_tasks` - æ—¥å¸¸ä»»åŠ¡è¡¨
- âœ… `task_completions` - ä»»åŠ¡å®Œæˆè®°å½•è¡¨

### æµ‹è¯•æ–°åŠŸèƒ½ API
```bash
# æµ‹è¯•å¥–åŠ±å•†å“
curl http://localhost:5000/api/reward-items

# æµ‹è¯•æ˜Ÿæ˜Ÿå…‘æ¢
curl http://localhost:5000/api/star-redemptions

# æµ‹è¯•å¥åº·æ£€æŸ¥
curl http://localhost:5000/api/health
```

---

## ğŸ“± å‰ç«¯æ–°èœå•

å‡çº§å®Œæˆåï¼Œåœ¨åº”ç”¨ä¸­å¯ä»¥çœ‹åˆ°ä»¥ä¸‹æ–°èœå•ï¼š

```
eleven_study
â”œâ”€â”€ å„¿ç«¥è¯†å­—
â”‚   â”œâ”€â”€ å­¦ä¹ çœ‹æ¿
â”‚   â”œâ”€â”€ æ±‰å­—åº“
â”‚   â”œâ”€â”€ å¼€å§‹å­¦ä¹ 
â”‚   â”œâ”€â”€ æ±‰å­—ç»ƒä¹ 
â”‚   â””â”€â”€ å‘¨ç»Ÿè®¡
â”œâ”€â”€ å¿«ä¹é˜…è¯»
â”‚   â””â”€â”€ é˜…è¯»è®°å½•
â”œâ”€â”€ å¤è¯—è¯
â”‚   â””â”€â”€ å¤è¯—èƒŒè¯µ â­ +5æ˜Ÿ/é¦–
â”œâ”€â”€ ç”Ÿæ´»è®°å½•
â”‚   â”œâ”€â”€ æ—…è¡Œè®¡åˆ’
â”‚   â”œâ”€â”€ æ—…è¡Œè¶³è¿¹ ğŸ†• ï¼ˆv1.2.0ï¼‰
â”‚   â””â”€â”€ æ—¥å¸¸ä»»åŠ¡
â””â”€â”€ æˆ‘çš„å¥–åŠ± ğŸ†• ï¼ˆv1.2.0 ç‹¬ç«‹æ¨¡å—ï¼‰
    â”œâ”€â”€ æˆå°±å¾½ç«  ğŸ†
    â””â”€â”€ æ˜Ÿæ˜Ÿå…‘æ¢ ğŸ
```

---

## ğŸ¯ ä½¿ç”¨å»ºè®®

### 1. æ˜Ÿæ˜Ÿè·å–è§„åˆ™
- ğŸ“ å­¦ä¼š 1 ä¸ªæ±‰å­— = 1â­
- ğŸ“– èƒŒä¼š 1 é¦–å¤è¯— = 5â­
- âœˆï¸ æ—…è¡ŒèŠ±è´¹ 1 å…ƒ = 1â­
- âœ… å®Œæˆæ—¥å¸¸ä»»åŠ¡ = è‡ªå®šä¹‰â­

### 2. æ˜Ÿæ˜Ÿå…‘æ¢æµç¨‹
1. è¿›å…¥"æˆ‘çš„å¥–åŠ±" â†’ "æ˜Ÿæ˜Ÿå…‘æ¢"
2. æµè§ˆå¯å…‘æ¢çš„å•†å“
3. é€‰æ‹©æƒ³è¦çš„å•†å“
4. ç¡®è®¤å…‘æ¢ï¼ˆæ˜Ÿæ˜Ÿä¼šè‡ªåŠ¨æ‰£é™¤ï¼‰
5. åœ¨"æˆå°±å¾½ç« "ä¸­æŸ¥çœ‹å…‘æ¢è®°å½•

### 3. ç®¡ç†å¥–åŠ±å•†å“
- æ·»åŠ æ–°å•†å“ï¼ˆè‡ªå®šä¹‰åç§°ã€æ˜Ÿæ˜Ÿæ•°ã€å›¾æ ‡ï¼‰
- ä¿®æ”¹ç°æœ‰å•†å“
- å¯ç”¨/ç¦ç”¨å•†å“
- åˆ é™¤ä¸éœ€è¦çš„å•†å“

### 4. æ—…è¡Œè¶³è¿¹ä½¿ç”¨
- æ·»åŠ æ—…è¡Œè®¡åˆ’
- è®°å½•æ¯æ¬¡æ—…è¡ŒèŠ±è´¹
- æŸ¥çœ‹æ—…è¡Œè¶³è¿¹åœ°å›¾
- ä¸‰ä¸ªå°äººä»£è¡¨å®¶åº­æˆå‘˜

---

## âš ï¸ æ³¨æ„äº‹é¡¹

### å‡çº§å‰
1. âœ… ç¡®ä¿ Docker æœåŠ¡æ­£å¸¸è¿è¡Œ
2. âœ… æ£€æŸ¥ç£ç›˜ç©ºé—´å……è¶³ï¼ˆå¤‡ä»½éœ€è¦ç©ºé—´ï¼‰
3. âœ… å»ºè®®åœ¨ä½å³°æ—¶æ®µæ‰§è¡Œ
4. âœ… é€šçŸ¥æ­£åœ¨ä½¿ç”¨çš„ç”¨æˆ·

### å‡çº§ä¸­
1. â±ï¸ ä¸è¦ä¸­æ–­å‡çº§è¿‡ç¨‹
2. â±ï¸ ç­‰å¾…æ‰€æœ‰æ­¥éª¤å®Œæˆ
3. â±ï¸ è§‚å¯Ÿç»ˆç«¯è¾“å‡ºä¿¡æ¯

### å‡çº§å
1. ğŸ”„ æ¸…é™¤æµè§ˆå™¨ç¼“å­˜ï¼ˆCtrl+F5 æˆ– Cmd+Shift+Rï¼‰
2. ğŸ” éªŒè¯æ–°åŠŸèƒ½æ˜¯å¦æ­£å¸¸
3. ğŸ“ æµ‹è¯•ä¸»è¦ä¸šåŠ¡æµç¨‹
4. ğŸ’¾ ä¿ç•™å¤‡ä»½æ–‡ä»¶ä¸€æ®µæ—¶é—´

---

## ğŸ†˜ æ•…éšœæ’é™¤

### é—®é¢˜ 1ï¼šå‡çº§è„šæœ¬æ— æ³•æ‰§è¡Œ
**åŸå› **: æ²¡æœ‰æ‰§è¡Œæƒé™

**è§£å†³**:
```bash
chmod +x upgrade_to_v1.2.0.sh
```

### é—®é¢˜ 2ï¼šæ•°æ®åº“è¿æ¥å¤±è´¥
**åŸå› **: å¯†ç é”™è¯¯æˆ– MySQL æœªå¯åŠ¨

**è§£å†³**:
```bash
# æ£€æŸ¥ MySQL å®¹å™¨çŠ¶æ€
docker compose ps

# é‡å¯ MySQL
docker compose restart mysql

# æ£€æŸ¥æ—¥å¿—
docker compose logs mysql
```

### é—®é¢˜ 3ï¼šé¡µé¢æ˜¾ç¤ºç©ºç™½
**åŸå› **: æµè§ˆå™¨ç¼“å­˜

**è§£å†³**:
```
Chrome/Edge: Ctrl + Shift + R (Windows) æˆ– Cmd + Shift + R (Mac)
Firefox: Ctrl + F5
Safari: Cmd + Option + R
```

### é—®é¢˜ 4ï¼šAPI è¿”å›é”™è¯¯
**åŸå› **: åç«¯æœªé‡å¯æˆ–ä»£ç æœªæ›´æ–°

**è§£å†³**:
```bash
# é‡å¯åç«¯
docker compose restart backend

# æŸ¥çœ‹æ—¥å¿—
docker compose logs -f backend
```

### é—®é¢˜ 5ï¼šéœ€è¦å›æ»š
**åŸå› **: å‡çº§å¤±è´¥æˆ–æ•°æ®å¼‚å¸¸

**è§£å†³**:
```bash
# æŸ¥æ‰¾å¤‡ä»½æ–‡ä»¶
ls backup_*.sql

# æ¢å¤æ•°æ®åº“
docker compose exec -T mysql mysql -uroot -pliteracy2024 literacy_db < backup_v1.2.0_YYYYMMDD_HHMMSS.sql

# é‡å¯æœåŠ¡
docker compose restart backend
```

---

## ğŸ“ è·å–å¸®åŠ©

### æŸ¥çœ‹æ—¥å¿—
```bash
# æŸ¥çœ‹æ‰€æœ‰æœåŠ¡æ—¥å¿—
docker compose logs

# å®æ—¶æŸ¥çœ‹åç«¯æ—¥å¿—
docker compose logs -f backend

# å®æ—¶æŸ¥çœ‹æ•°æ®åº“æ—¥å¿—
docker compose logs -f mysql

# å®æ—¶æŸ¥çœ‹å‰ç«¯æ—¥å¿—
docker compose logs -f frontend
```

### æ£€æŸ¥æœåŠ¡çŠ¶æ€
```bash
# æŸ¥çœ‹æ‰€æœ‰å®¹å™¨çŠ¶æ€
docker compose ps

# æŸ¥çœ‹èµ„æºä½¿ç”¨
docker stats
```

### è¿›å…¥å®¹å™¨è°ƒè¯•
```bash
# è¿›å…¥åç«¯å®¹å™¨
docker compose exec backend bash

# è¿›å…¥æ•°æ®åº“å®¹å™¨
docker compose exec mysql bash

# è¿›å…¥å‰ç«¯å®¹å™¨
docker compose exec frontend sh
```

---

## ğŸŠ å‡çº§å®Œæˆåçš„ä¸‹ä¸€æ­¥

1. ğŸ¯ **æµ‹è¯•æ–°åŠŸèƒ½**
   - æ·»åŠ å‡ ä¸ªå¥–åŠ±å•†å“
   - å°è¯•å…‘æ¢æ˜Ÿæ˜Ÿ
   - æŸ¥çœ‹æ—…è¡Œè¶³è¿¹åœ°å›¾

2. ğŸ“š **é˜…è¯»æ–‡æ¡£**
   - æŸ¥çœ‹ `v1.2.0_æ›´æ–°è¯´æ˜.md` äº†è§£è¯¦ç»†æ›´æ–°
   - å‚è€ƒ `å¦‚ä½•å‡çº§.md` å­¦ä¹ å‡çº§æµç¨‹

3. ğŸ® **å¼€å§‹ä½¿ç”¨**
   - è®©å­©å­å¼€å§‹èµšå–æ˜Ÿæ˜Ÿ
   - è®¾ç½®å®¶åº­å¥–åŠ±ç›®æ ‡
   - è®°å½•å­¦ä¹ å’Œæ—…è¡Œè¶³è¿¹

4. ğŸ’¾ **å®šæœŸå¤‡ä»½**
   - å»ºè®®æ¯å‘¨å¤‡ä»½ä¸€æ¬¡æ•°æ®åº“
   - ä¿ç•™é‡è¦çš„å¤‡ä»½æ–‡ä»¶

---

## ğŸŒŸ æ€»ç»“

âœ… **æ‰€æœ‰å‡çº§è„šæœ¬å·²é…ç½®å®Œæˆ**  
âœ… **æ•°æ®åº“å¯†ç å·²æ›´æ–°ä¸º literacy2024**  
âœ… **æ–‡æ¡£å·²å‡†å¤‡å°±ç»ª**  
âœ… **éšæ—¶å¯ä»¥æ‰§è¡Œå‡çº§**

**å‡†å¤‡å‡çº§ï¼Ÿæ‰§è¡Œä»¥ä¸‹å‘½ä»¤ï¼š**

```bash
cd /Users/102er/Desktop/WORK/github.com/eleven_study
./upgrade_to_v1.2.0.sh
```

---

**ç¥å‡çº§é¡ºåˆ©ï¼ğŸš€**

