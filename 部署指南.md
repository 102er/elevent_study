# 📦 部署指南

## 快速部署

### 1. 首次部署

```bash
cd /opt/eleven_study

# 初始化并启动
./init-setup.sh
```

### 2. 更新部署

```bash
cd /opt/eleven_study

# 停止服务
docker compose down

# 重新构建
docker compose build --no-cache

# 启动服务
docker compose up -d
```

### 3. 访问应用

```
http://服务器IP
```

---

## 常用命令

### 查看状态
```bash
docker compose ps
```

### 查看日志
```bash
# 所有服务
docker compose logs

# 实时查看
docker compose logs -f
```

### 重启服务
```bash
docker compose restart
```

### 停止服务
```bash
docker compose down
```

---

## 数据备份

### 备份数据库
```bash
docker compose exec mysql mysqldump -uroot -ppassword literacy_db > backup_$(date +%Y%m%d).sql
```

### 备份数据目录
```bash
tar -czf data_backup_$(date +%Y%m%d).tar.gz ./data/mysql/
```

---

## 端口说明

- **80** - 前端访问
- **5000** - 后端API
- **3306** - MySQL数据库

---

## 目录说明

- `./data/mysql/` - 数据库数据
- `./backend/` - 后端代码
- `./frontend/` - 前端代码
- `init.sql` - 数据库初始化脚本

---

## 问题排查

### 服务启动失败
```bash
# 查看详细日志
docker compose logs mysql
docker compose logs backend
docker compose logs frontend
```

### 端口被占用
```bash
# 检查端口
netstat -tlnp | grep 80
```

### 数据丢失
```bash
# 从备份恢复
docker compose exec -T mysql mysql -uroot -ppassword literacy_db < backup.sql
```

---

**就这么简单！** 🎉

